@using CreditCalculator.Models
@model CreditCalculator.Models.Credit

@{
    ViewBag.Title = "Платежи";
}

<h2>Платежи</h2>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <table class="table">
        <thead>
            <tr>
                <th>
                    № платежа
                </th>
                <th>
                    Дата платежа
                </th>
                <th>
                    Размер платежа по телу
                </th>
                <th>
                    Размер платежа по проценту
                </th>
                <th>
                    Остаток основного долга
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var payment in Model.PaymentsList)
            {
                <tr>
                    <td>
                        @payment.Number
                    </td>
                    <td>
                        @payment.Date.ToShortDateString()
                    </td>
                    <td>
                        @payment.Body
                    </td>
                    <td>
                        @payment.Percent
                    </td>
                    <td>
                        @payment.RemainingDebt
                    </td>
                </tr>
            }
            <tr>
                <td colspan="5">
                    <h4>Переплата: @Model.Overpay</h4>
                </td>
            </tr>
            <tr>
                <td colspan="5">
                    <h3>Всего выплат: @Model.TotalPayment</h3>
                </td>
            </tr>
        </tbody>
    </table>
}

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}

